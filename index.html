<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>An Implementation of Grammar of Graphics for Graphs and Networks • ggraph</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/journal/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="An Implementation of Grammar of Graphics for Graphs and Networks">
<meta property="og:description" content="The grammar of graphics as implemented in ggplot2 is a poor fit for
    graph and network visualizations due to its reliance on tabular data input.
    ggraph is an extension of the ggplot2 API tailored to graph visualizations
    and provides the same flexible approach to building up plots layer by layer.">
<meta property="og:image" content="https://ggraph.data-imaginist.com/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">ggraph</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.2.9999</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Getting Started
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/Layouts.html">Layouts</a>
    </li>
    <li>
      <a href="articles/Nodes.html">Nodes</a>
    </li>
    <li>
      <a href="articles/Edges.html">Edges</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/tidygraph.html">Tidygraph interface</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="dropdown-header">Release notes</li>
    <li>
      <a href="https://www.data-imaginist.com/2017/announcing-ggraph/">Version 1.0.0</a>
    </li>
    <li class="divider">
    </li>
<li>
      <a href="news/index.html">Change log</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/thomasp85/ggraph">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<!-- README.md is generated from README.Rmd. Please edit that file -->
<div id="ggraph" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#ggraph" class="anchor"></a>ggraph <img src="reference/figures/logo.png" align="right">
</h1></div>
<!-- badges: start -->

<p><em>/dʒiː.dʒɪˈrɑːf/</em> (or g-giraffe)</p>
<div id="a-grammar-of-graphics-for-relational-data" class="section level2">
<h2 class="hasAnchor">
<a href="#a-grammar-of-graphics-for-relational-data" class="anchor"></a>A grammar of graphics for relational data</h2>
<p>ggraph is an extension of <a href="http://ggplot2.tidyverse.org"><code>ggplot2</code></a> aimed at supporting relational data structures such as networks, graphs, and trees. While it builds upon the foundation of <code>ggplot2</code> and its API it comes with its own self-contained set of geoms, facets, etc., as well as adding the concept of <em>layouts</em> to the grammar.</p>
<div id="an-example" class="section level3">
<h3 class="hasAnchor">
<a href="#an-example" class="anchor"></a>An example</h3>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(ggraph)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="co">#&gt; Loading required package: ggplot2</span></a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(tidygraph)</a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb1-5" data-line-number="5"><span class="co">#&gt; Attaching package: 'tidygraph'</span></a>
<a class="sourceLine" id="cb1-6" data-line-number="6"><span class="co">#&gt; The following object is masked from 'package:stats':</span></a>
<a class="sourceLine" id="cb1-7" data-line-number="7"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb1-8" data-line-number="8"><span class="co">#&gt;     filter</span></a>
<a class="sourceLine" id="cb1-9" data-line-number="9"></a>
<a class="sourceLine" id="cb1-10" data-line-number="10"><span class="co"># Create graph of highschool friendships</span></a>
<a class="sourceLine" id="cb1-11" data-line-number="11">graph &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/tidygraph/topics/tbl_graph">as_tbl_graph</a></span>(highschool) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb1-12" data-line-number="12"><span class="st">    </span><span class="kw"><a href="https://www.rdocumentation.org/packages/tidygraph/topics/reexports">mutate</a></span>(<span class="dt">Popularity =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/tidygraph/topics/centrality">centrality_degree</a></span>(<span class="dt">mode =</span> <span class="st">'in'</span>))</a>
<a class="sourceLine" id="cb1-13" data-line-number="13"></a>
<a class="sourceLine" id="cb1-14" data-line-number="14"><span class="co"># plot using ggraph</span></a>
<a class="sourceLine" id="cb1-15" data-line-number="15"><span class="kw"><a href="reference/ggraph.html">ggraph</a></span>(graph, <span class="dt">layout =</span> <span class="st">'kk'</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb1-16" data-line-number="16"><span class="st">    </span><span class="kw"><a href="reference/geom_edge_fan.html">geom_edge_fan</a></span>(<span class="kw">aes</span>(<span class="dt">alpha =</span> <span class="kw">stat</span>(index)), <span class="dt">show.legend =</span> <span class="ot">FALSE</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb1-17" data-line-number="17"><span class="st">    </span><span class="kw"><a href="reference/geom_node_point.html">geom_node_point</a></span>(<span class="kw">aes</span>(<span class="dt">size =</span> Popularity)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb1-18" data-line-number="18"><span class="st">    </span><span class="kw"><a href="reference/facet_edges.html">facet_edges</a></span>(<span class="op">~</span>year) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb1-19" data-line-number="19"><span class="st">    </span><span class="kw"><a href="reference/theme_graph.html">theme_graph</a></span>(<span class="dt">foreground =</span> <span class="st">'steelblue'</span>, <span class="dt">fg_text_colour =</span> <span class="st">'white'</span>)</a></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-2-1.png" width="700"></p>
</div>
<div id="the-core-concepts" class="section level3">
<h3 class="hasAnchor">
<a href="#the-core-concepts" class="anchor"></a>The core concepts</h3>
<p><code>ggraph</code> builds upon three core concepts that are quite easy to understand:</p>
<ol style="list-style-type: decimal">
<li>
<a href="http://www.data-imaginist.com/2017/ggraph-introduction-layouts/"><strong>The Layout</strong></a> defines how nodes are placed on the plot, that is, it is a conversion of the relational structure into an x and y value for each node in the graph. <code>ggraph</code> has access to all layout functions available in <code>igraph</code> and furthermore provides a large selection of its own, such as hive plots, treemaps, and circle packing.</li>
<li>
<a href="http://www.data-imaginist.com/2017/ggraph-introduction-nodes/"><strong>The Nodes</strong></a> are the connected entities in the relational structure. These can be plotted using the <code>geom_node_*()</code> family of geoms. Some node geoms make more sense for certain layouts, e.g. <code><a href="reference/geom_node_tile.html">geom_node_tile()</a></code> for treemaps and icicle plots, while others are more general purpose, e.g. <code><a href="reference/geom_node_point.html">geom_node_point()</a></code>.</li>
<li>
<a href="http://www.data-imaginist.com/2017/ggraph-introduction-edges/"><strong>The Edges</strong></a> are the connections between the entities in the relational structure. These can be visualized using the <code>geom_edge_*()</code> family of geoms that contain a lot of different edge types for different scenarios. Sometimes the edges are implied by the layout (e.g. with treemaps) and need not be plotted, but often some sort of line is warranted.</li>
</ol>
<p>All of the tree concepts have been discussed in detail in dedicated blog posts that are also available as vignettes in the package. Please refer to these for more information.</p>
<blockquote>
<p><strong>Note:</strong> The linked blog posts are based on ggraph v1. After ggraph v1.1 the underlying implementation was moved to tidygraph and cleaned up, but this resulted in some breaking changes in the process. Therefore the vignette versions are generally recommended as they have been updated.</p>
</blockquote>
</div>
<div id="supported-data-types" class="section level3">
<h3 class="hasAnchor">
<a href="#supported-data-types" class="anchor"></a>Supported data types</h3>
<p>There are many different ways to store and work with relational data in R. <code>ggraph</code> is built upon <code>tidygraph</code> and the large swath of data structures it supports are thus natively supported in <code>ggraph</code>. In order to get a data type supported by <code>ggraph</code>, simply provide an <code>as_tbl_graph</code> method for it.</p>
</div>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p><code>ggraph</code> is available through CRAN and can be installed with <code><a href="https://www.rdocumentation.org/packages/utils/topics/install.packages">install.packages('ggraph')</a></code>. The package is under active development though and the latest set of features can be obtained by installing from this repository using <code>devtools</code></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">devtools<span class="op">::</span><span class="kw">install_github</span>(<span class="st">'thomasp85/ggraph'</span>)</a></code></pre></div>
</div>
<div id="related-work" class="section level2">
<h2 class="hasAnchor">
<a href="#related-work" class="anchor"></a>Related work</h2>
<p><code>ggraph</code> is not the only package to provide some sort of support for relational data in <code>ggplot2</code>, though I’m fairly certain that it is the most ambituous. <a href="https://CRAN.R-project.org/package=ggdendro"><code>ggdendro</code></a> provides support for <code>dendrogram</code> and <code>hclust</code> objects through conversion of the structures into line segments that can then be plotted with <code>geom_segment()</code>. <a href="http://bioconductor.org/packages/ggtree/"><code>ggtree</code></a> provides more extensive support for all things tree-related, though it lacks some of the layouts and edge types that <code>ggraph</code> offers (it has other features that <code>ggraph</code> lacks though). For more standard <em>hairball</em> network plots <a href="https://CRAN.R-project.org/package=ggnetwork"><code>ggnetwork</code></a>, <a href="https://CRAN.R-project.org/package=geomnet"><code>geomnet</code></a>, and <a href="https://CRAN.R-project.org/package=GGally"><code>GGally</code></a> all provide some functionality though none of them are as extensive in scope as <code>ggraph</code>.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=ggraph">https://​cloud.r-project.org/​package=ggraph</a>
</li>
<li>Browse source code at <br><a href="https://github.com/thomasp85/ggraph">https://​github.com/​thomasp85/​ggraph</a>
</li>
<li>Report a bug at <br><a href="https://github.com/thomasp85/ggraph/issues">https://​github.com/​thomasp85/​ggraph/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://data-imaginist.com">Thomas Lin Pedersen</a> <br><small class="roles"> Maintainer, author </small> <a href="https://orcid.org/0000-0002-5147-4711" target="orcid.widget"><img src="https://members.orcid.org/sites/default/files/vector_iD_icon.svg" class="orcid" alt="ORCID" height="16"></a> </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/thomasp85/ggraph"><img src="https://travis-ci.org/thomasp85/ggraph.svg?branch=master" alt="Travis-CI Build Status"></a></li>
<li><a href="https://ci.appveyor.com/project/thomasp85/ggraph"><img src="https://ci.appveyor.com/api/projects/status/github/thomasp85/ggraph?branch=master&amp;svg=true" alt="AppVeyor Build Status"></a></li>
<li><a href="https://CRAN.R-project.org/package=ggraph"><img src="http://www.r-pkg.org/badges/version-ago/ggraph" alt="CRAN_Release_Badge"></a></li>
<li><a href="https://CRAN.R-project.org/package=ggraph"><img src="http://cranlogs.r-pkg.org/badges/ggraph" alt="CRAN_Download_Badge"></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by <a href="https://data-imaginist.com">Thomas Lin Pedersen</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
