<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Calculate nodes as areas dividing their parent — layout_tbl_graph_partition • ggraph</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/journal/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate nodes as areas dividing their parent — layout_tbl_graph_partition"><meta property="og:description" content="The partition layout is a way to show hierarchical data in the same way as
layout_tbl_graph_treemap(). Instead of subdividing the parent area
the partition layout shows the division of a nodes children next to the area
of the node itself. As such the node positions will be very reminiscent of
a reingold-tilford tree layout but by plotting nodes as areas it better
communicate the total weight of a node by summing up all its children.
Often partition layouts are called icicle plots or sunburst diagrams (in case
a radial transform is applied)."><meta property="og:image" content="https://ggraph.data-imaginist.com/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ggraph</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.0.6.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Getting Started
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Layouts.html">Layouts</a>
    </li>
    <li>
      <a href="../articles/Nodes.html">Nodes</a>
    </li>
    <li>
      <a href="../articles/Edges.html">Edges</a>
    </li>
  </ul></li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/tidygraph.html">Tidygraph interface</a>
    </li>
  </ul></li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li class="dropdown-header">Release notes</li>
    <li>
      <a href="https://www.data-imaginist.com/2019/1-giraffe-2-giraffe-go/" class="external-link">Version 2.0.0</a>
    </li>
    <li>
      <a href="https://www.data-imaginist.com/2017/announcing-ggraph/" class="external-link">Version 1.0.0</a>
    </li>
    <li class="divider">
    <li>
      <a href="../news/index.html">Change log</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://tidygraph.data-imaginist.com" class="external-link">tidygraph</a>
</li>
<li>
  <a href="https://github.com/thomasp85/ggraph" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Calculate nodes as areas dividing their parent</h1>
    <small class="dont-index">Source: <a href="https://github.com/thomasp85/ggraph/blob/HEAD/R/layout_partition.R" class="external-link"><code>R/layout_partition.R</code></a></small>
    <div class="hidden name"><code>layout_tbl_graph_partition.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The partition layout is a way to show hierarchical data in the same way as
<code><a href="layout_tbl_graph_treemap.html">layout_tbl_graph_treemap()</a></code>. Instead of subdividing the parent area
the partition layout shows the division of a nodes children next to the area
of the node itself. As such the node positions will be very reminiscent of
a reingold-tilford tree layout but by plotting nodes as areas it better
communicate the total weight of a node by summing up all its children.
Often partition layouts are called icicle plots or sunburst diagrams (in case
a radial transform is applied).</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">layout_tbl_graph_partition</span><span class="op">(</span></span>
<span>  <span class="va">graph</span>,</span>
<span>  weight <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  circular <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  height <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sort.by <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  direction <span class="op">=</span> <span class="st">"out"</span>,</span>
<span>  offset <span class="op">=</span> <span class="va">pi</span><span class="op">/</span><span class="fl">2</span>,</span>
<span>  const.area <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>graph</dt>
<dd><p>An <code>tbl_graph</code> object</p></dd>


<dt>weight</dt>
<dd><p>An optional node variable to use as weight. Will only affect
the weight of leaf nodes as the weight of non-leaf nodes are derived from
their children.</p></dd>


<dt>circular</dt>
<dd><p>Logical. Should the layout be transformed to a circular
representation. If <code>TRUE</code> the resulting layout will be a sunburst
diagram.</p></dd>


<dt>height</dt>
<dd><p>An optional node variable to use as height. If <code>NULL</code>
all nodes will be given a height of 1.</p></dd>


<dt>sort.by</dt>
<dd><p>The name of a node variable to sort the nodes by.</p></dd>


<dt>direction</dt>
<dd><p>The direction of the tree in the graph. <code>'out'</code> (default)
means that parents point towards their children, while <code>'in'</code> means that
children point towards their parent.</p></dd>


<dt>offset</dt>
<dd><p>If <code>circular = TRUE</code>, where should it begin. Defaults to
<code>pi/2</code> which is equivalent to 12 o'clock.</p></dd>


<dt>const.area</dt>
<dd><p>Logical. Should 'height' be scaled for area proportionality
when using <code>circular = TRUE</code>. Defaults to <code>TRUE</code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>If <code>circular = FALSE</code> A data.frame with the columns <code>x</code>,
<code>y</code>, <code>width</code>, <code>height</code>, <code>leaf</code>,
<code>depth</code>, <code>circular</code> as well as any information stored as node
variables in the tbl_graph object.
If <code>circular = TRUE</code> A data.frame with the columns <code>x</code>, <code>y</code>,
<code>r0</code>, <code>r</code>, <code>start</code>, <code>end</code>, <code>leaf</code>,
<code>depth</code>, <code>circular</code> as well as any information stored as node
variables in the tbl_graph object.</p>
    </div>
    <div id="note">
    <h2>Note</h2>
    <p>partition is a layout intended for trees, that is, graphs where nodes
only have one parent and zero or more children. If the provided graph does
not fit this format an attempt to convert it to such a format will be made.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Kruskal, J. B., Landwehr, J. M. (1983). <em>Icicle Plots: Better Displays
for Hierarchical Clustering</em>. American Statistician Vol 37(2), 162-168.
https://doi.org/10.2307/2685881</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other layout_tbl_graph_*: 
<code><a href="layout_tbl_graph_auto.html">layout_tbl_graph_auto</a>()</code>,
<code><a href="layout_tbl_graph_backbone.html">layout_tbl_graph_backbone</a>()</code>,
<code><a href="layout_tbl_graph_centrality.html">layout_tbl_graph_centrality</a>()</code>,
<code><a href="layout_tbl_graph_circlepack.html">layout_tbl_graph_circlepack</a>()</code>,
<code><a href="layout_tbl_graph_dendrogram.html">layout_tbl_graph_dendrogram</a>()</code>,
<code><a href="layout_tbl_graph_eigen.html">layout_tbl_graph_eigen</a>()</code>,
<code><a href="layout_tbl_graph_fabric.html">layout_tbl_graph_fabric</a>()</code>,
<code><a href="layout_tbl_graph_focus.html">layout_tbl_graph_focus</a>()</code>,
<code><a href="layout_tbl_graph_hive.html">layout_tbl_graph_hive</a>()</code>,
<code><a href="layout_tbl_graph_igraph.html">layout_tbl_graph_igraph</a>()</code>,
<code><a href="layout_tbl_graph_linear.html">layout_tbl_graph_linear</a>()</code>,
<code><a href="layout_tbl_graph_manual.html">layout_tbl_graph_manual</a>()</code>,
<code><a href="layout_tbl_graph_matrix.html">layout_tbl_graph_matrix</a>()</code>,
<code><a href="layout_tbl_graph_pmds.html">layout_tbl_graph_pmds</a>()</code>,
<code><a href="layout_tbl_graph_stress.html">layout_tbl_graph_stress</a>()</code>,
<code><a href="layout_tbl_graph_treemap.html">layout_tbl_graph_treemap</a>()</code>,
<code><a href="layout_tbl_graph_unrooted.html">layout_tbl_graph_unrooted</a>()</code></p></div>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://data-imaginist.com" class="external-link">Thomas Lin Pedersen</a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

